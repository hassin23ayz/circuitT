* /usr/local/bin/xorn netlist --symbol-library /usr/local/share/gEDA/sym/misc --symbol-library /usr/local/share/gEDA/sym/power --symbol-library /usr/local/share/gEDA/sym/relay --symbol-library /usr/local/share/gEDA/sym/opto --symbol-library /usr/local/share/gEDA/sym/supervisor --symbol-library /usr/local/share/gEDA/sym/pla --symbol-library /usr/local/share/gEDA/sym/rf --symbol-library /usr/local/share/gEDA/sym/tube --symbol-library /usr/local/share/gEDA/sym/transistor --symbol-library /usr/local/share/gEDA/sym/micro --symbol-library /usr/local/share/gEDA/sym/memory --symbol-library /usr/local/share/gEDA/sym/bus --symbol-library /usr/local/share/gEDA/sym/xilinx --symbol-library /usr/local/share/gEDA/sym/st --symbol-library /usr/local/share/gEDA/sym/philips --symbol-library /usr/local/share/gEDA/sym/national --symbol-library /usr/local/share/gEDA/sym/minicircuits --symbol-library /usr/local/share/gEDA/sym/maxim --symbol-library /usr/local/share/gEDA/sym/linear --symbol-library /usr/local/share/gEDA/sym/lattice --symbol-library /usr/local/share/gEDA/sym/irf --symbol-library /usr/local/share/gEDA/sym/idt --symbol-library /usr/local/share/gEDA/sym/dec --symbol-library /usr/local/share/gEDA/sym/apex --symbol-library /usr/local/share/gEDA/sym/amphenol --symbol-library /usr/local/share/gEDA/sym/altera --symbol-library /usr/local/share/gEDA/sym/allegro --symbol-library /usr/local/share/gEDA/sym/asicpads --symbol-library /usr/local/share/gEDA/sym/asic --symbol-library /usr/local/share/gEDA/sym/switcap --symbol-library /usr/local/share/gEDA/sym/spice --symbol-library /usr/local/share/gEDA/sym/cascade --symbol-library /usr/local/share/gEDA/sym/ecl --symbol-library /usr/local/share/gEDA/sym/4000 --symbol-library /usr/local/share/gEDA/sym/74 --symbol-library /usr/local/share/gEDA/sym/IEC417 --symbol-library /usr/local/share/gEDA/sym/titleblock --symbol-library /usr/local/share/gEDA/sym/switch --symbol-library /usr/local/share/gEDA/sym/radio --symbol-library /usr/local/share/gEDA/sym/io --symbol-library /usr/local/share/gEDA/sym/net-power --symbol-library /usr/local/share/gEDA/sym/diode --symbol-library /usr/local/share/gEDA/sym/connector --symbol-library /usr/local/share/gEDA/sym/analog --symbol-library /usr/local/share/gEDA/sym/local --symbol-library-search /home/ayex/circuit-simulation/gaf/symbols/ -g guile -O add-to-load-path=/usr/local/share/gEDA/scheme -O load=/usr/local/share/gEDA/scheme/gnetlist.scm -O load=/usr/local/share/gEDA/scheme/gnet-spice-sdb.scm -O load=/usr/local/share/gEDA/scheme/gnetlist-post.scm -O guile-proc=spice-sdb -O use-spice-netnames -v -o pv.net pv.sch
*********************************************************
* Spice file generated by gnetlist                      *
* spice-sdb version 4.28.2007 by SDB --                 *
* provides advanced spice netlisting capability.        *
* Documentation at http://www.brorson.com/gEDA/SPICE/   *
*********************************************************
*vvvvvvvv  Included SPICE model from pv.sub vvvvvvvv
* PV SOURCE
*-----------------------------------------------------------------
* connections:   +ve terminal
*                | -ve terminal
*                | | 
.SUBCKT PVSOURCE 1 2 Isc=1 Vscale=50
*Setting Isc value
VIsc nsc 0 {Isc}
*Setting No. of devices in series 
Vnum ndev 0 {Vscale}
*Using PV model eqn. in B-source
*(nVT)=0.05 -- n=2 and VT=0.025
*a conditional statement is used. If current flow is negative i.e. PV as sink, then the 
*current should get limited to 0 and not allow sink current into PV
Bpv 1 2 i=-(v(nsc)- 1e-7*(exp(v(1,2)/0.05/v(ndev))-1)>0 ? (v(nsc)- 1e-7*(exp(v(1,2)/0.05/v(ndev))-1)) : 0)
.ENDS
*--------------------------------------------------------------------------------
*^^^^^^^^  End of included SPICE model from pv.sub ^^^^^^^^
*
*==============  Begin SPICE netlist of main design ============
VSe nV 0 SIN(0 48 50 0 0 0)
xPV1 nV 0 PVSOURCE Isc=10 Vscale=50
.INCLUDE pv.sub
.end
